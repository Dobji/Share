{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vovav\\\\Documents\\\\Content\\\\Share\\\\frontend\\\\src\\\\components\\\\ProjectForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport ImageUpload from './ImageUpload';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProjectForm = ({\n  project = null,\n  onSubmit,\n  onCancel,\n  loading = false\n}) => {\n  _s();\n  const [formData, setFormData] = useState({\n    title: '',\n    short_description: '',\n    full_description: '',\n    area: '',\n    location: ''\n  });\n  const [mainPhoto, setMainPhoto] = useState(null);\n  const [galleryPhotos, setGalleryPhotos] = useState([]);\n  const [errors, setErrors] = useState({});\n  const isEditing = !!project;\n  useEffect(() => {\n    if (project) {\n      setFormData({\n        title: project.title || '',\n        short_description: project.short_description || '',\n        full_description: project.full_description || '',\n        area: project.area || '',\n        location: project.location || ''\n      });\n      if (project.main_photo) {\n        setMainPhoto(project.main_photo);\n      }\n      if (project.gallery_photos) {\n        // Split by comma and filter out empty strings, then map to objects with type indicator\n        const existingPhotos = project.gallery_photos.split(',').filter(p => p.trim()).map(photo => ({\n          filename: photo.trim(),\n          isExisting: true,\n          url: photo.trim().startsWith('http') ? photo.trim() : `http://localhost:8000/uploads/${photo.trim()}`\n        }));\n        console.log('🔄 ProjectForm useEffect: Setting existing gallery photos:', existingPhotos);\n        setGalleryPhotos(existingPhotos);\n      } else {\n        console.log('🔄 ProjectForm useEffect: No existing gallery photos');\n        setGalleryPhotos([]);\n      }\n    } else {\n      console.log('🔄 ProjectForm useEffect: No project, clearing form');\n      setFormData({\n        title: '',\n        short_description: '',\n        full_description: '',\n        area: '',\n        location: ''\n      });\n      setMainPhoto(null);\n      setGalleryPhotos([]);\n    }\n  }, [project]);\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n\n    // Clear error when user starts typing\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n  const validateForm = () => {\n    const newErrors = {};\n    if (!formData.title.trim()) {\n      newErrors.title = 'Название проекта обязательно';\n    }\n    if (!formData.short_description.trim()) {\n      newErrors.short_description = 'Краткое описание обязательно';\n    }\n    if (!formData.full_description.trim()) {\n      newErrors.full_description = 'Полное описание обязательно';\n    }\n    if (!mainPhoto && !isEditing) {\n      newErrors.mainPhoto = 'Главное фото обязательно';\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!validateForm()) {\n      return;\n    }\n    const submitData = new FormData();\n\n    // Add form fields\n    Object.keys(formData).forEach(key => {\n      if (formData[key]) {\n        submitData.append(key, formData[key]);\n      }\n    });\n\n    // Add main photo\n    if (mainPhoto && typeof mainPhoto === 'object') {\n      submitData.append('main_photo', mainPhoto);\n    }\n\n    // Handle gallery photos for editing vs creating\n    if (isEditing) {\n      // When editing, we need to handle existing vs new photos carefully\n      const newPhotos = galleryPhotos.filter(photo => photo instanceof File);\n      const existingPhotos = galleryPhotos.filter(photo => typeof photo === 'string' || typeof photo === 'object' && photo.isExisting);\n      console.log('🔄 Processing gallery photos for editing:');\n      console.log('   All gallery photos:', galleryPhotos);\n      console.log('   New photos (File objects):', newPhotos);\n      console.log('   Existing photos:', existingPhotos);\n      console.log('   New photos details:', newPhotos.map(p => ({\n        name: p.name,\n        size: p.size,\n        type: p.type\n      })));\n      if (newPhotos.length > 0) {\n        // If there are new photos, send them as separate entries\n        // Each file should be added with the same name 'gallery_photos'\n        newPhotos.forEach((photo, index) => {\n          console.log(`   Adding photo ${index + 1} to FormData: ${photo.name}, size: ${photo.size}`);\n          submitData.append('gallery_photos', photo);\n        });\n        console.log('   Added new photos to FormData');\n\n        // Debug: Log FormData contents\n        console.log('   FormData contents after adding gallery photos:');\n        for (let [key, value] of submitData.entries()) {\n          if (value instanceof File) {\n            console.log(`     ${key}: File(${value.name}, ${value.size} bytes, ${value.type})`);\n          } else {\n            console.log(`     ${key}: ${value}`);\n          }\n        }\n      } else if (galleryPhotos.length === 0) {\n        // If gallery is completely empty, send a separate field to indicate clearing\n        submitData.append('clear_gallery', 'true');\n        console.log('   Added clear_gallery flag to FormData');\n      } else if (existingPhotos.length > 0 && newPhotos.length === 0) {\n        // If there are only existing photos and no new ones, don't send gallery_photos field\n        // This will keep the existing gallery unchanged\n        console.log('   Keeping existing gallery unchanged');\n      }\n    } else {\n      // When creating new project, send all gallery photos\n      const newPhotos = galleryPhotos.filter(photo => photo instanceof File);\n      console.log('🔄 Creating new project with gallery photos:');\n      console.log('   All gallery photos:', galleryPhotos);\n      console.log('   New photos (File objects):', newPhotos);\n      console.log('   New photos details:', newPhotos.map(p => ({\n        name: p.name,\n        size: p.size,\n        type: p.type\n      })));\n      if (newPhotos.length > 0) {\n        // Send each photo as a separate entry with the same name\n        newPhotos.forEach((photo, index) => {\n          console.log(`   Adding photo ${index + 1} to FormData: ${photo.name}, size: ${photo.size}`);\n          submitData.append('gallery_photos', photo);\n        });\n        console.log('   Added gallery photos to FormData for new project');\n\n        // Debug: Log FormData contents\n        console.log('   FormData contents after adding gallery photos:');\n        for (let [key, value] of submitData.entries()) {\n          if (value instanceof File) {\n            console.log(`     ${key}: File(${value.name}, ${value.size} bytes, ${value.type})`);\n          } else {\n            console.log(`     ${key}: ${value}`);\n          }\n        }\n      }\n    }\n\n    // Debug logging\n    console.log('🔄 Submitting form data:');\n    console.log('   Form data:', formData);\n    console.log('   Main photo:', mainPhoto);\n    console.log('   Gallery photos:', galleryPhotos);\n    console.log('   Is editing:', isEditing);\n\n    // Enhanced FormData validation\n    console.log('🔄 FormData validation:');\n    let galleryPhotosCount = 0;\n    let mainPhotoCount = 0;\n    let otherFieldsCount = 0;\n    for (let [key, value] of submitData.entries()) {\n      if (key === 'gallery_photos') {\n        galleryPhotosCount++;\n        if (value instanceof File) {\n          console.log(`   gallery_photos ${galleryPhotosCount}: File(${value.name}, ${value.size} bytes, ${value.type})`);\n        } else {\n          console.log(`   gallery_photos ${galleryPhotosCount}: ${value} (not a File)`);\n        }\n      } else if (key === 'main_photo') {\n        mainPhotoCount++;\n        if (value instanceof File) {\n          console.log(`   main_photo ${mainPhotoCount}: File(${value.name}, ${value.size} bytes, ${value.type})`);\n        } else {\n          console.log(`   main_photo ${mainPhotoCount}: ${value} (not a File)`);\n        }\n      } else {\n        otherFieldsCount++;\n        console.log(`   ${key}: ${value}`);\n      }\n    }\n    console.log(`   FormData summary: ${galleryPhotosCount} gallery photos, ${mainPhotoCount} main photos, ${otherFieldsCount} other fields`);\n\n    // Validate that we have the expected number of files\n    const expectedGalleryPhotos = galleryPhotos.filter(photo => photo instanceof File).length;\n    if (galleryPhotosCount !== expectedGalleryPhotos) {\n      console.error(`❌ Mismatch: Expected ${expectedGalleryPhotos} gallery photos, but FormData has ${galleryPhotosCount}`);\n      console.error('   This suggests a problem with FormData formation');\n    } else {\n      console.log(`✅ FormData validation passed: ${galleryPhotosCount} gallery photos correctly added`);\n    }\n    onSubmit(submitData);\n  };\n  const handleMainPhotoChange = photo => {\n    setMainPhoto(photo);\n    if (errors.mainPhoto) {\n      setErrors(prev => ({\n        ...prev,\n        mainPhoto: ''\n      }));\n    }\n  };\n  const handleGalleryPhotosChange = photos => {\n    console.log('🔄 ProjectForm: handleGalleryPhotosChange called');\n    console.log('   Received photos:', photos);\n    console.log('   Photos type:', typeof photos);\n    console.log('   Photos length:', photos === null || photos === void 0 ? void 0 : photos.length);\n    console.log('   Photos details:', photos === null || photos === void 0 ? void 0 : photos.map(p => {\n      if (p instanceof File) {\n        return {\n          type: 'File',\n          name: p.name,\n          size: p.size\n        };\n      } else if (typeof p === 'string') {\n        return {\n          type: 'string',\n          value: p\n        };\n      } else if (p && typeof p === 'object') {\n        return {\n          type: 'object',\n          keys: Object.keys(p),\n          isExisting: p.isExisting\n        };\n      }\n      return {\n        type: typeof p,\n        value: p\n      };\n    }));\n    setGalleryPhotos(photos || []);\n    console.log('   Updated galleryPhotos state:', photos || []);\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"title\",\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u0430 *\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"title\",\n        name: \"title\",\n        value: formData.title,\n        onChange: handleInputChange,\n        className: `mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ${errors.title ? 'border-red-300' : 'border-gray-300'}`,\n        placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this), errors.title && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-1 text-sm text-red-600\",\n        children: errors.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"short_description\",\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"\\u041A\\u0440\\u0430\\u0442\\u043A\\u043E\\u0435 \\u043E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 *\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        id: \"short_description\",\n        name: \"short_description\",\n        rows: 3,\n        value: formData.short_description,\n        onChange: handleInputChange,\n        className: `mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ${errors.short_description ? 'border-red-300' : 'border-gray-300'}`,\n        placeholder: \"\\u041A\\u0440\\u0430\\u0442\\u043A\\u043E\\u0435 \\u043E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u0434\\u043B\\u044F \\u043A\\u0430\\u0440\\u0442\\u043E\\u0447\\u043A\\u0438 \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this), errors.short_description && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-1 text-sm text-red-600\",\n        children: errors.short_description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"full_description\",\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"\\u041F\\u043E\\u043B\\u043D\\u043E\\u0435 \\u043E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 *\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        id: \"full_description\",\n        name: \"full_description\",\n        rows: 6,\n        value: formData.full_description,\n        onChange: handleInputChange,\n        className: `mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ${errors.full_description ? 'border-red-300' : 'border-gray-300'}`,\n        placeholder: \"\\u041F\\u043E\\u0434\\u0440\\u043E\\u0431\\u043D\\u043E\\u0435 \\u043E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }, this), errors.full_description && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-1 text-sm text-red-600\",\n        children: errors.full_description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"area\",\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"\\u041F\\u043B\\u043E\\u0449\\u0430\\u0434\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"area\",\n          name: \"area\",\n          value: formData.area,\n          onChange: handleInputChange,\n          className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\",\n          placeholder: \"\\u041D\\u0430\\u043F\\u0440\\u0438\\u043C\\u0435\\u0440: 150 \\u043C\\xB2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"location\",\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"\\u041C\\u0435\\u0441\\u0442\\u043E\\u043F\\u043E\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u0435\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"location\",\n          name: \"location\",\n          value: formData.location,\n          onChange: handleInputChange,\n          className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\",\n          placeholder: \"\\u041D\\u0430\\u043F\\u0440\\u0438\\u043C\\u0435\\u0440: \\u041C\\u043E\\u0441\\u043A\\u0432\\u0430, \\u0443\\u043B. \\u041F\\u0440\\u0438\\u043C\\u0435\\u0440\\u043D\\u0430\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(ImageUpload, {\n        label: \"\\u0413\\u043B\\u0430\\u0432\\u043D\\u043E\\u0435 \\u0444\\u043E\\u0442\\u043E *\",\n        required: !isEditing,\n        onImagesChange: handleMainPhotoChange,\n        currentImages: mainPhoto ? [mainPhoto] : [],\n        maxFiles: 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 9\n      }, this), errors.mainPhoto && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-1 text-sm text-red-600\",\n        children: errors.mainPhoto\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"\\u0424\\u043E\\u0442\\u043E\\u0433\\u0440\\u0430\\u0444\\u0438\\u0438 \\u0433\\u0430\\u043B\\u0435\\u0440\\u0435\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-1\",\n        children: /*#__PURE__*/_jsxDEV(ImageUpload, {\n          label: \"\",\n          multiple: true,\n          onImagesChange: handleGalleryPhotosChange,\n          currentImages: galleryPhotos,\n          maxFiles: 9 // Изменяем на 9 файлов\n          ,\n          maxSize: 10\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-1 text-sm text-gray-500\",\n        children: \"\\u0412\\u044B \\u043C\\u043E\\u0436\\u0435\\u0442\\u0435 \\u0432\\u044B\\u0431\\u0440\\u0430\\u0442\\u044C \\u043D\\u0435\\u0441\\u043A\\u043E\\u043B\\u044C\\u043A\\u043E \\u0444\\u043E\\u0442\\u043E\\u0433\\u0440\\u0430\\u0444\\u0438\\u0439 \\u043E\\u0434\\u043D\\u043E\\u0432\\u0440\\u0435\\u043C\\u0435\\u043D\\u043D\\u043E (\\u0434\\u043E 9 \\u0444\\u0430\\u0439\\u043B\\u043E\\u0432). \\u041F\\u043E\\u0434\\u0434\\u0435\\u0440\\u0436\\u0438\\u0432\\u0430\\u044E\\u0442\\u0441\\u044F \\u0444\\u043E\\u0440\\u043C\\u0430\\u0442\\u044B: PNG, JPG, GIF \\u0434\\u043E 10MB \\u043A\\u0430\\u0436\\u0434\\u0430\\u044F.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 9\n      }, this), galleryPhotos.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2 p-2 bg-blue-50 rounded-md\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-blue-700\",\n          children: [\"\\uD83D\\uDCF8 \\u0412\\u044B\\u0431\\u0440\\u0430\\u043D\\u043E \\u0444\\u043E\\u0442\\u043E\\u0433\\u0440\\u0430\\u0444\\u0438\\u0439: \", galleryPhotos.filter(p => p instanceof File).length, \" \\u043D\\u043E\\u0432\\u044B\\u0445 + \", galleryPhotos.filter(p => !(p instanceof File)).length, \" \\u0441\\u0443\\u0449\\u0435\\u0441\\u0442\\u0432\\u0443\\u044E\\u0449\\u0438\\u0445\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-end space-x-3 pt-6 border-t border-gray-200\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: onCancel,\n        className: \"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",\n        children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: loading,\n        className: \"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed\",\n        children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"animate-spin -ml-1 mr-2 h-4 w-4 text-white\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n              className: \"opacity-25\",\n              cx: \"12\",\n              cy: \"12\",\n              r: \"10\",\n              stroke: \"currentColor\",\n              strokeWidth: \"4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              className: \"opacity-75\",\n              fill: \"currentColor\",\n              d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 15\n          }, this), \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0435\\u043D\\u0438\\u0435...\"]\n        }, void 0, true) : isEditing ? 'Обновить проект' : 'Создать проект'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 268,\n    columnNumber: 5\n  }, this);\n};\n_s(ProjectForm, \"K3qx2aYjgNFnm2KVpVpmZMvomTM=\");\n_c = ProjectForm;\nexport default ProjectForm;\nvar _c;\n$RefreshReg$(_c, \"ProjectForm\");","map":{"version":3,"names":["React","useState","useEffect","ImageUpload","jsxDEV","_jsxDEV","Fragment","_Fragment","ProjectForm","project","onSubmit","onCancel","loading","_s","formData","setFormData","title","short_description","full_description","area","location","mainPhoto","setMainPhoto","galleryPhotos","setGalleryPhotos","errors","setErrors","isEditing","main_photo","gallery_photos","existingPhotos","split","filter","p","trim","map","photo","filename","isExisting","url","startsWith","console","log","handleInputChange","e","name","value","target","prev","validateForm","newErrors","Object","keys","length","handleSubmit","preventDefault","submitData","FormData","forEach","key","append","newPhotos","File","size","type","index","entries","galleryPhotosCount","mainPhotoCount","otherFieldsCount","expectedGalleryPhotos","error","handleMainPhotoChange","handleGalleryPhotosChange","photos","className","children","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","id","onChange","placeholder","rows","label","required","onImagesChange","currentImages","maxFiles","multiple","maxSize","onClick","disabled","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth","d","_c","$RefreshReg$"],"sources":["C:/Users/vovav/Documents/Content/Share/frontend/src/components/ProjectForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ImageUpload from './ImageUpload';\n\nconst ProjectForm = ({ project = null, onSubmit, onCancel, loading = false }) => {\n  const [formData, setFormData] = useState({\n    title: '',\n    short_description: '',\n    full_description: '',\n    area: '',\n    location: ''\n  });\n  \n  const [mainPhoto, setMainPhoto] = useState(null);\n  const [galleryPhotos, setGalleryPhotos] = useState([]);\n  const [errors, setErrors] = useState({});\n\n  const isEditing = !!project;\n\n  useEffect(() => {\n    if (project) {\n      setFormData({\n        title: project.title || '',\n        short_description: project.short_description || '',\n        full_description: project.full_description || '',\n        area: project.area || '',\n        location: project.location || ''\n      });\n      \n      if (project.main_photo) {\n        setMainPhoto(project.main_photo);\n      }\n      \n      if (project.gallery_photos) {\n        // Split by comma and filter out empty strings, then map to objects with type indicator\n        const existingPhotos = project.gallery_photos.split(',')\n          .filter(p => p.trim())\n          .map(photo => ({ \n            filename: photo.trim(), \n            isExisting: true,\n            url: photo.trim().startsWith('http') ? photo.trim() : `http://localhost:8000/uploads/${photo.trim()}`\n          }));\n        console.log('🔄 ProjectForm useEffect: Setting existing gallery photos:', existingPhotos);\n        setGalleryPhotos(existingPhotos);\n      } else {\n        console.log('🔄 ProjectForm useEffect: No existing gallery photos');\n        setGalleryPhotos([]);\n      }\n    } else {\n      console.log('🔄 ProjectForm useEffect: No project, clearing form');\n      setFormData({\n        title: '',\n        short_description: '',\n        full_description: '',\n        area: '',\n        location: ''\n      });\n      setMainPhoto(null);\n      setGalleryPhotos([]);\n    }\n  }, [project]);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    \n    // Clear error when user starts typing\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n\n  const validateForm = () => {\n    const newErrors = {};\n    \n    if (!formData.title.trim()) {\n      newErrors.title = 'Название проекта обязательно';\n    }\n    \n    if (!formData.short_description.trim()) {\n      newErrors.short_description = 'Краткое описание обязательно';\n    }\n    \n    if (!formData.full_description.trim()) {\n      newErrors.full_description = 'Полное описание обязательно';\n    }\n    \n    if (!mainPhoto && !isEditing) {\n      newErrors.mainPhoto = 'Главное фото обязательно';\n    }\n    \n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      return;\n    }\n\n    const submitData = new FormData();\n    \n    // Add form fields\n    Object.keys(formData).forEach(key => {\n      if (formData[key]) {\n        submitData.append(key, formData[key]);\n      }\n    });\n    \n    // Add main photo\n    if (mainPhoto && typeof mainPhoto === 'object') {\n      submitData.append('main_photo', mainPhoto);\n    }\n    \n    // Handle gallery photos for editing vs creating\n    if (isEditing) {\n      // When editing, we need to handle existing vs new photos carefully\n      const newPhotos = galleryPhotos.filter(photo => photo instanceof File);\n      const existingPhotos = galleryPhotos.filter(photo => \n        typeof photo === 'string' || (typeof photo === 'object' && photo.isExisting)\n      );\n      \n      console.log('🔄 Processing gallery photos for editing:');\n      console.log('   All gallery photos:', galleryPhotos);\n      console.log('   New photos (File objects):', newPhotos);\n      console.log('   Existing photos:', existingPhotos);\n      console.log('   New photos details:', newPhotos.map(p => ({ name: p.name, size: p.size, type: p.type })));\n      \n      if (newPhotos.length > 0) {\n        // If there are new photos, send them as separate entries\n        // Each file should be added with the same name 'gallery_photos'\n        newPhotos.forEach((photo, index) => {\n          console.log(`   Adding photo ${index + 1} to FormData: ${photo.name}, size: ${photo.size}`);\n          submitData.append('gallery_photos', photo);\n        });\n        console.log('   Added new photos to FormData');\n        \n        // Debug: Log FormData contents\n        console.log('   FormData contents after adding gallery photos:');\n        for (let [key, value] of submitData.entries()) {\n          if (value instanceof File) {\n            console.log(`     ${key}: File(${value.name}, ${value.size} bytes, ${value.type})`);\n          } else {\n            console.log(`     ${key}: ${value}`);\n          }\n        }\n      } else if (galleryPhotos.length === 0) {\n        // If gallery is completely empty, send a separate field to indicate clearing\n        submitData.append('clear_gallery', 'true');\n        console.log('   Added clear_gallery flag to FormData');\n      } else if (existingPhotos.length > 0 && newPhotos.length === 0) {\n        // If there are only existing photos and no new ones, don't send gallery_photos field\n        // This will keep the existing gallery unchanged\n        console.log('   Keeping existing gallery unchanged');\n      }\n    } else {\n      // When creating new project, send all gallery photos\n      const newPhotos = galleryPhotos.filter(photo => photo instanceof File);\n      console.log('🔄 Creating new project with gallery photos:');\n      console.log('   All gallery photos:', galleryPhotos);\n      console.log('   New photos (File objects):', newPhotos);\n      console.log('   New photos details:', newPhotos.map(p => ({ name: p.name, size: p.size, type: p.type })));\n      \n      if (newPhotos.length > 0) {\n        // Send each photo as a separate entry with the same name\n        newPhotos.forEach((photo, index) => {\n          console.log(`   Adding photo ${index + 1} to FormData: ${photo.name}, size: ${photo.size}`);\n          submitData.append('gallery_photos', photo);\n        });\n        console.log('   Added gallery photos to FormData for new project');\n        \n        // Debug: Log FormData contents\n        console.log('   FormData contents after adding gallery photos:');\n        for (let [key, value] of submitData.entries()) {\n          if (value instanceof File) {\n            console.log(`     ${key}: File(${value.name}, ${value.size} bytes, ${value.type})`);\n          } else {\n            console.log(`     ${key}: ${value}`);\n          }\n        }\n      }\n    }\n    \n    // Debug logging\n    console.log('🔄 Submitting form data:');\n    console.log('   Form data:', formData);\n    console.log('   Main photo:', mainPhoto);\n    console.log('   Gallery photos:', galleryPhotos);\n    console.log('   Is editing:', isEditing);\n    \n    // Enhanced FormData validation\n    console.log('🔄 FormData validation:');\n    let galleryPhotosCount = 0;\n    let mainPhotoCount = 0;\n    let otherFieldsCount = 0;\n    \n    for (let [key, value] of submitData.entries()) {\n      if (key === 'gallery_photos') {\n        galleryPhotosCount++;\n        if (value instanceof File) {\n          console.log(`   gallery_photos ${galleryPhotosCount}: File(${value.name}, ${value.size} bytes, ${value.type})`);\n        } else {\n          console.log(`   gallery_photos ${galleryPhotosCount}: ${value} (not a File)`);\n        }\n      } else if (key === 'main_photo') {\n        mainPhotoCount++;\n        if (value instanceof File) {\n          console.log(`   main_photo ${mainPhotoCount}: File(${value.name}, ${value.size} bytes, ${value.type})`);\n        } else {\n          console.log(`   main_photo ${mainPhotoCount}: ${value} (not a File)`);\n        }\n      } else {\n        otherFieldsCount++;\n        console.log(`   ${key}: ${value}`);\n      }\n    }\n    \n    console.log(`   FormData summary: ${galleryPhotosCount} gallery photos, ${mainPhotoCount} main photos, ${otherFieldsCount} other fields`);\n    \n    // Validate that we have the expected number of files\n    const expectedGalleryPhotos = galleryPhotos.filter(photo => photo instanceof File).length;\n    if (galleryPhotosCount !== expectedGalleryPhotos) {\n      console.error(`❌ Mismatch: Expected ${expectedGalleryPhotos} gallery photos, but FormData has ${galleryPhotosCount}`);\n      console.error('   This suggests a problem with FormData formation');\n    } else {\n      console.log(`✅ FormData validation passed: ${galleryPhotosCount} gallery photos correctly added`);\n    }\n    \n    onSubmit(submitData);\n  };\n\n  const handleMainPhotoChange = (photo) => {\n    setMainPhoto(photo);\n    if (errors.mainPhoto) {\n      setErrors(prev => ({ ...prev, mainPhoto: '' }));\n    }\n  };\n\n  const handleGalleryPhotosChange = (photos) => {\n    console.log('🔄 ProjectForm: handleGalleryPhotosChange called');\n    console.log('   Received photos:', photos);\n    console.log('   Photos type:', typeof photos);\n    console.log('   Photos length:', photos?.length);\n    console.log('   Photos details:', photos?.map(p => {\n      if (p instanceof File) {\n        return { type: 'File', name: p.name, size: p.size };\n      } else if (typeof p === 'string') {\n        return { type: 'string', value: p };\n      } else if (p && typeof p === 'object') {\n        return { type: 'object', keys: Object.keys(p), isExisting: p.isExisting };\n      }\n      return { type: typeof p, value: p };\n    }));\n    \n    setGalleryPhotos(photos || []);\n    \n    console.log('   Updated galleryPhotos state:', photos || []);\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-6\">\n      {/* Title */}\n      <div>\n        <label htmlFor=\"title\" className=\"block text-sm font-medium text-gray-700\">\n          Название проекта *\n        </label>\n        <input\n          type=\"text\"\n          id=\"title\"\n          name=\"title\"\n          value={formData.title}\n          onChange={handleInputChange}\n          className={`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ${\n            errors.title ? 'border-red-300' : 'border-gray-300'\n          }`}\n          placeholder=\"Введите название проекта\"\n        />\n        {errors.title && (\n          <p className=\"mt-1 text-sm text-red-600\">{errors.title}</p>\n        )}\n      </div>\n\n      {/* Short Description */}\n      <div>\n        <label htmlFor=\"short_description\" className=\"block text-sm font-medium text-gray-700\">\n          Краткое описание *\n        </label>\n        <textarea\n          id=\"short_description\"\n          name=\"short_description\"\n          rows={3}\n          value={formData.short_description}\n          onChange={handleInputChange}\n          className={`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ${\n            errors.short_description ? 'border-red-300' : 'border-gray-300'\n          }`}\n          placeholder=\"Краткое описание для карточки проекта\"\n        />\n        {errors.short_description && (\n          <p className=\"mt-1 text-sm text-red-600\">{errors.short_description}</p>\n        )}\n      </div>\n\n      {/* Full Description */}\n      <div>\n        <label htmlFor=\"full_description\" className=\"block text-sm font-medium text-gray-700\">\n          Полное описание *\n        </label>\n        <textarea\n          id=\"full_description\"\n          name=\"full_description\"\n          rows={6}\n          value={formData.full_description}\n          onChange={handleInputChange}\n          className={`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ${\n            errors.full_description ? 'border-red-300' : 'border-gray-300'\n          }`}\n          placeholder=\"Подробное описание проекта\"\n        />\n        {errors.full_description && (\n          <p className=\"mt-1 text-sm text-red-600\">{errors.full_description}</p>\n        )}\n      </div>\n\n      {/* Area and Location */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <div>\n          <label htmlFor=\"area\" className=\"block text-sm font-medium text-gray-700\">\n            Площадь\n          </label>\n          <input\n            type=\"text\"\n            id=\"area\"\n            name=\"area\"\n            value={formData.area}\n            onChange={handleInputChange}\n            className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n            placeholder=\"Например: 150 м²\"\n          />\n        </div>\n        \n        <div>\n          <label htmlFor=\"location\" className=\"block text-sm font-medium text-gray-700\">\n            Местоположение\n          </label>\n          <input\n            type=\"text\"\n            id=\"location\"\n            name=\"location\"\n            value={formData.location}\n            onChange={handleInputChange}\n            className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n            placeholder=\"Например: Москва, ул. Примерная\"\n          />\n        </div>\n      </div>\n\n      {/* Main Photo */}\n      <div>\n        <ImageUpload\n          label=\"Главное фото *\"\n          required={!isEditing}\n          onImagesChange={handleMainPhotoChange}\n          currentImages={mainPhoto ? [mainPhoto] : []}\n          maxFiles={1}\n        />\n        {errors.mainPhoto && (\n          <p className=\"mt-1 text-sm text-red-600\">{errors.mainPhoto}</p>\n        )}\n      </div>\n\n      {/* Gallery Photos */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-700\">\n          Фотографии галереи\n        </label>\n        <div className=\"mt-1\">\n          <ImageUpload\n            label=\"\"\n            multiple={true}\n            onImagesChange={handleGalleryPhotosChange}\n            currentImages={galleryPhotos}\n            maxFiles={9} // Изменяем на 9 файлов\n            maxSize={10}\n          />\n        </div>\n        <p className=\"mt-1 text-sm text-gray-500\">\n          Вы можете выбрать несколько фотографий одновременно (до 9 файлов). \n          Поддерживаются форматы: PNG, JPG, GIF до 10MB каждая.\n        </p>\n        {galleryPhotos.length > 0 && (\n          <div className=\"mt-2 p-2 bg-blue-50 rounded-md\">\n            <p className=\"text-sm text-blue-700\">\n              📸 Выбрано фотографий: {galleryPhotos.filter(p => p instanceof File).length} новых + {galleryPhotos.filter(p => !(p instanceof File)).length} существующих\n            </p>\n          </div>\n        )}\n      </div>\n\n      {/* Form Actions */}\n      <div className=\"flex justify-end space-x-3 pt-6 border-t border-gray-200\">\n        <button\n          type=\"button\"\n          onClick={onCancel}\n          className=\"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n        >\n          Отмена\n        </button>\n        \n        <button\n          type=\"submit\"\n          disabled={loading}\n          className=\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n        >\n          {loading ? (\n            <>\n              <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n              </svg>\n              Сохранение...\n            </>\n          ) : (\n            isEditing ? 'Обновить проект' : 'Создать проект'\n          )}\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport default ProjectForm; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,WAAW,MAAM,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAExC,MAAMC,WAAW,GAAGA,CAAC;EAAEC,OAAO,GAAG,IAAI;EAAEC,QAAQ;EAAEC,QAAQ;EAAEC,OAAO,GAAG;AAAM,CAAC,KAAK;EAAAC,EAAA;EAC/E,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGd,QAAQ,CAAC;IACvCe,KAAK,EAAE,EAAE;IACTC,iBAAiB,EAAE,EAAE;IACrBC,gBAAgB,EAAE,EAAE;IACpBC,IAAI,EAAE,EAAE;IACRC,QAAQ,EAAE;EACZ,CAAC,CAAC;EAEF,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGrB,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACsB,aAAa,EAAEC,gBAAgB,CAAC,GAAGvB,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACwB,MAAM,EAAEC,SAAS,CAAC,GAAGzB,QAAQ,CAAC,CAAC,CAAC,CAAC;EAExC,MAAM0B,SAAS,GAAG,CAAC,CAAClB,OAAO;EAE3BP,SAAS,CAAC,MAAM;IACd,IAAIO,OAAO,EAAE;MACXM,WAAW,CAAC;QACVC,KAAK,EAAEP,OAAO,CAACO,KAAK,IAAI,EAAE;QAC1BC,iBAAiB,EAAER,OAAO,CAACQ,iBAAiB,IAAI,EAAE;QAClDC,gBAAgB,EAAET,OAAO,CAACS,gBAAgB,IAAI,EAAE;QAChDC,IAAI,EAAEV,OAAO,CAACU,IAAI,IAAI,EAAE;QACxBC,QAAQ,EAAEX,OAAO,CAACW,QAAQ,IAAI;MAChC,CAAC,CAAC;MAEF,IAAIX,OAAO,CAACmB,UAAU,EAAE;QACtBN,YAAY,CAACb,OAAO,CAACmB,UAAU,CAAC;MAClC;MAEA,IAAInB,OAAO,CAACoB,cAAc,EAAE;QAC1B;QACA,MAAMC,cAAc,GAAGrB,OAAO,CAACoB,cAAc,CAACE,KAAK,CAAC,GAAG,CAAC,CACrDC,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC,CACrBC,GAAG,CAACC,KAAK,KAAK;UACbC,QAAQ,EAAED,KAAK,CAACF,IAAI,CAAC,CAAC;UACtBI,UAAU,EAAE,IAAI;UAChBC,GAAG,EAAEH,KAAK,CAACF,IAAI,CAAC,CAAC,CAACM,UAAU,CAAC,MAAM,CAAC,GAAGJ,KAAK,CAACF,IAAI,CAAC,CAAC,GAAG,iCAAiCE,KAAK,CAACF,IAAI,CAAC,CAAC;QACrG,CAAC,CAAC,CAAC;QACLO,OAAO,CAACC,GAAG,CAAC,4DAA4D,EAAEZ,cAAc,CAAC;QACzFN,gBAAgB,CAACM,cAAc,CAAC;MAClC,CAAC,MAAM;QACLW,OAAO,CAACC,GAAG,CAAC,sDAAsD,CAAC;QACnElB,gBAAgB,CAAC,EAAE,CAAC;MACtB;IACF,CAAC,MAAM;MACLiB,OAAO,CAACC,GAAG,CAAC,qDAAqD,CAAC;MAClE3B,WAAW,CAAC;QACVC,KAAK,EAAE,EAAE;QACTC,iBAAiB,EAAE,EAAE;QACrBC,gBAAgB,EAAE,EAAE;QACpBC,IAAI,EAAE,EAAE;QACRC,QAAQ,EAAE;MACZ,CAAC,CAAC;MACFE,YAAY,CAAC,IAAI,CAAC;MAClBE,gBAAgB,CAAC,EAAE,CAAC;IACtB;EACF,CAAC,EAAE,CAACf,OAAO,CAAC,CAAC;EAEb,MAAMkC,iBAAiB,GAAIC,CAAC,IAAK;IAC/B,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,CAAC,CAACG,MAAM;IAChChC,WAAW,CAACiC,IAAI,KAAK;MACnB,GAAGA,IAAI;MACP,CAACH,IAAI,GAAGC;IACV,CAAC,CAAC,CAAC;;IAEH;IACA,IAAIrB,MAAM,CAACoB,IAAI,CAAC,EAAE;MAChBnB,SAAS,CAACsB,IAAI,KAAK;QACjB,GAAGA,IAAI;QACP,CAACH,IAAI,GAAG;MACV,CAAC,CAAC,CAAC;IACL;EACF,CAAC;EAED,MAAMI,YAAY,GAAGA,CAAA,KAAM;IACzB,MAAMC,SAAS,GAAG,CAAC,CAAC;IAEpB,IAAI,CAACpC,QAAQ,CAACE,KAAK,CAACkB,IAAI,CAAC,CAAC,EAAE;MAC1BgB,SAAS,CAAClC,KAAK,GAAG,8BAA8B;IAClD;IAEA,IAAI,CAACF,QAAQ,CAACG,iBAAiB,CAACiB,IAAI,CAAC,CAAC,EAAE;MACtCgB,SAAS,CAACjC,iBAAiB,GAAG,8BAA8B;IAC9D;IAEA,IAAI,CAACH,QAAQ,CAACI,gBAAgB,CAACgB,IAAI,CAAC,CAAC,EAAE;MACrCgB,SAAS,CAAChC,gBAAgB,GAAG,6BAA6B;IAC5D;IAEA,IAAI,CAACG,SAAS,IAAI,CAACM,SAAS,EAAE;MAC5BuB,SAAS,CAAC7B,SAAS,GAAG,0BAA0B;IAClD;IAEAK,SAAS,CAACwB,SAAS,CAAC;IACpB,OAAOC,MAAM,CAACC,IAAI,CAACF,SAAS,CAAC,CAACG,MAAM,KAAK,CAAC;EAC5C,CAAC;EAED,MAAMC,YAAY,GAAG,MAAOV,CAAC,IAAK;IAChCA,CAAC,CAACW,cAAc,CAAC,CAAC;IAElB,IAAI,CAACN,YAAY,CAAC,CAAC,EAAE;MACnB;IACF;IAEA,MAAMO,UAAU,GAAG,IAAIC,QAAQ,CAAC,CAAC;;IAEjC;IACAN,MAAM,CAACC,IAAI,CAACtC,QAAQ,CAAC,CAAC4C,OAAO,CAACC,GAAG,IAAI;MACnC,IAAI7C,QAAQ,CAAC6C,GAAG,CAAC,EAAE;QACjBH,UAAU,CAACI,MAAM,CAACD,GAAG,EAAE7C,QAAQ,CAAC6C,GAAG,CAAC,CAAC;MACvC;IACF,CAAC,CAAC;;IAEF;IACA,IAAItC,SAAS,IAAI,OAAOA,SAAS,KAAK,QAAQ,EAAE;MAC9CmC,UAAU,CAACI,MAAM,CAAC,YAAY,EAAEvC,SAAS,CAAC;IAC5C;;IAEA;IACA,IAAIM,SAAS,EAAE;MACb;MACA,MAAMkC,SAAS,GAAGtC,aAAa,CAACS,MAAM,CAACI,KAAK,IAAIA,KAAK,YAAY0B,IAAI,CAAC;MACtE,MAAMhC,cAAc,GAAGP,aAAa,CAACS,MAAM,CAACI,KAAK,IAC/C,OAAOA,KAAK,KAAK,QAAQ,IAAK,OAAOA,KAAK,KAAK,QAAQ,IAAIA,KAAK,CAACE,UACnE,CAAC;MAEDG,OAAO,CAACC,GAAG,CAAC,2CAA2C,CAAC;MACxDD,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEnB,aAAa,CAAC;MACpDkB,OAAO,CAACC,GAAG,CAAC,+BAA+B,EAAEmB,SAAS,CAAC;MACvDpB,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEZ,cAAc,CAAC;MAClDW,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEmB,SAAS,CAAC1B,GAAG,CAACF,CAAC,KAAK;QAAEY,IAAI,EAAEZ,CAAC,CAACY,IAAI;QAAEkB,IAAI,EAAE9B,CAAC,CAAC8B,IAAI;QAAEC,IAAI,EAAE/B,CAAC,CAAC+B;MAAK,CAAC,CAAC,CAAC,CAAC;MAEzG,IAAIH,SAAS,CAACR,MAAM,GAAG,CAAC,EAAE;QACxB;QACA;QACAQ,SAAS,CAACH,OAAO,CAAC,CAACtB,KAAK,EAAE6B,KAAK,KAAK;UAClCxB,OAAO,CAACC,GAAG,CAAC,mBAAmBuB,KAAK,GAAG,CAAC,iBAAiB7B,KAAK,CAACS,IAAI,WAAWT,KAAK,CAAC2B,IAAI,EAAE,CAAC;UAC3FP,UAAU,CAACI,MAAM,CAAC,gBAAgB,EAAExB,KAAK,CAAC;QAC5C,CAAC,CAAC;QACFK,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC;;QAE9C;QACAD,OAAO,CAACC,GAAG,CAAC,mDAAmD,CAAC;QAChE,KAAK,IAAI,CAACiB,GAAG,EAAEb,KAAK,CAAC,IAAIU,UAAU,CAACU,OAAO,CAAC,CAAC,EAAE;UAC7C,IAAIpB,KAAK,YAAYgB,IAAI,EAAE;YACzBrB,OAAO,CAACC,GAAG,CAAC,QAAQiB,GAAG,UAAUb,KAAK,CAACD,IAAI,KAAKC,KAAK,CAACiB,IAAI,WAAWjB,KAAK,CAACkB,IAAI,GAAG,CAAC;UACrF,CAAC,MAAM;YACLvB,OAAO,CAACC,GAAG,CAAC,QAAQiB,GAAG,KAAKb,KAAK,EAAE,CAAC;UACtC;QACF;MACF,CAAC,MAAM,IAAIvB,aAAa,CAAC8B,MAAM,KAAK,CAAC,EAAE;QACrC;QACAG,UAAU,CAACI,MAAM,CAAC,eAAe,EAAE,MAAM,CAAC;QAC1CnB,OAAO,CAACC,GAAG,CAAC,yCAAyC,CAAC;MACxD,CAAC,MAAM,IAAIZ,cAAc,CAACuB,MAAM,GAAG,CAAC,IAAIQ,SAAS,CAACR,MAAM,KAAK,CAAC,EAAE;QAC9D;QACA;QACAZ,OAAO,CAACC,GAAG,CAAC,uCAAuC,CAAC;MACtD;IACF,CAAC,MAAM;MACL;MACA,MAAMmB,SAAS,GAAGtC,aAAa,CAACS,MAAM,CAACI,KAAK,IAAIA,KAAK,YAAY0B,IAAI,CAAC;MACtErB,OAAO,CAACC,GAAG,CAAC,8CAA8C,CAAC;MAC3DD,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEnB,aAAa,CAAC;MACpDkB,OAAO,CAACC,GAAG,CAAC,+BAA+B,EAAEmB,SAAS,CAAC;MACvDpB,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEmB,SAAS,CAAC1B,GAAG,CAACF,CAAC,KAAK;QAAEY,IAAI,EAAEZ,CAAC,CAACY,IAAI;QAAEkB,IAAI,EAAE9B,CAAC,CAAC8B,IAAI;QAAEC,IAAI,EAAE/B,CAAC,CAAC+B;MAAK,CAAC,CAAC,CAAC,CAAC;MAEzG,IAAIH,SAAS,CAACR,MAAM,GAAG,CAAC,EAAE;QACxB;QACAQ,SAAS,CAACH,OAAO,CAAC,CAACtB,KAAK,EAAE6B,KAAK,KAAK;UAClCxB,OAAO,CAACC,GAAG,CAAC,mBAAmBuB,KAAK,GAAG,CAAC,iBAAiB7B,KAAK,CAACS,IAAI,WAAWT,KAAK,CAAC2B,IAAI,EAAE,CAAC;UAC3FP,UAAU,CAACI,MAAM,CAAC,gBAAgB,EAAExB,KAAK,CAAC;QAC5C,CAAC,CAAC;QACFK,OAAO,CAACC,GAAG,CAAC,qDAAqD,CAAC;;QAElE;QACAD,OAAO,CAACC,GAAG,CAAC,mDAAmD,CAAC;QAChE,KAAK,IAAI,CAACiB,GAAG,EAAEb,KAAK,CAAC,IAAIU,UAAU,CAACU,OAAO,CAAC,CAAC,EAAE;UAC7C,IAAIpB,KAAK,YAAYgB,IAAI,EAAE;YACzBrB,OAAO,CAACC,GAAG,CAAC,QAAQiB,GAAG,UAAUb,KAAK,CAACD,IAAI,KAAKC,KAAK,CAACiB,IAAI,WAAWjB,KAAK,CAACkB,IAAI,GAAG,CAAC;UACrF,CAAC,MAAM;YACLvB,OAAO,CAACC,GAAG,CAAC,QAAQiB,GAAG,KAAKb,KAAK,EAAE,CAAC;UACtC;QACF;MACF;IACF;;IAEA;IACAL,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;IACvCD,OAAO,CAACC,GAAG,CAAC,eAAe,EAAE5B,QAAQ,CAAC;IACtC2B,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAErB,SAAS,CAAC;IACxCoB,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEnB,aAAa,CAAC;IAChDkB,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEf,SAAS,CAAC;;IAExC;IACAc,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAC;IACtC,IAAIyB,kBAAkB,GAAG,CAAC;IAC1B,IAAIC,cAAc,GAAG,CAAC;IACtB,IAAIC,gBAAgB,GAAG,CAAC;IAExB,KAAK,IAAI,CAACV,GAAG,EAAEb,KAAK,CAAC,IAAIU,UAAU,CAACU,OAAO,CAAC,CAAC,EAAE;MAC7C,IAAIP,GAAG,KAAK,gBAAgB,EAAE;QAC5BQ,kBAAkB,EAAE;QACpB,IAAIrB,KAAK,YAAYgB,IAAI,EAAE;UACzBrB,OAAO,CAACC,GAAG,CAAC,qBAAqByB,kBAAkB,UAAUrB,KAAK,CAACD,IAAI,KAAKC,KAAK,CAACiB,IAAI,WAAWjB,KAAK,CAACkB,IAAI,GAAG,CAAC;QACjH,CAAC,MAAM;UACLvB,OAAO,CAACC,GAAG,CAAC,qBAAqByB,kBAAkB,KAAKrB,KAAK,eAAe,CAAC;QAC/E;MACF,CAAC,MAAM,IAAIa,GAAG,KAAK,YAAY,EAAE;QAC/BS,cAAc,EAAE;QAChB,IAAItB,KAAK,YAAYgB,IAAI,EAAE;UACzBrB,OAAO,CAACC,GAAG,CAAC,iBAAiB0B,cAAc,UAAUtB,KAAK,CAACD,IAAI,KAAKC,KAAK,CAACiB,IAAI,WAAWjB,KAAK,CAACkB,IAAI,GAAG,CAAC;QACzG,CAAC,MAAM;UACLvB,OAAO,CAACC,GAAG,CAAC,iBAAiB0B,cAAc,KAAKtB,KAAK,eAAe,CAAC;QACvE;MACF,CAAC,MAAM;QACLuB,gBAAgB,EAAE;QAClB5B,OAAO,CAACC,GAAG,CAAC,MAAMiB,GAAG,KAAKb,KAAK,EAAE,CAAC;MACpC;IACF;IAEAL,OAAO,CAACC,GAAG,CAAC,wBAAwByB,kBAAkB,oBAAoBC,cAAc,iBAAiBC,gBAAgB,eAAe,CAAC;;IAEzI;IACA,MAAMC,qBAAqB,GAAG/C,aAAa,CAACS,MAAM,CAACI,KAAK,IAAIA,KAAK,YAAY0B,IAAI,CAAC,CAACT,MAAM;IACzF,IAAIc,kBAAkB,KAAKG,qBAAqB,EAAE;MAChD7B,OAAO,CAAC8B,KAAK,CAAC,wBAAwBD,qBAAqB,qCAAqCH,kBAAkB,EAAE,CAAC;MACrH1B,OAAO,CAAC8B,KAAK,CAAC,oDAAoD,CAAC;IACrE,CAAC,MAAM;MACL9B,OAAO,CAACC,GAAG,CAAC,iCAAiCyB,kBAAkB,iCAAiC,CAAC;IACnG;IAEAzD,QAAQ,CAAC8C,UAAU,CAAC;EACtB,CAAC;EAED,MAAMgB,qBAAqB,GAAIpC,KAAK,IAAK;IACvCd,YAAY,CAACc,KAAK,CAAC;IACnB,IAAIX,MAAM,CAACJ,SAAS,EAAE;MACpBK,SAAS,CAACsB,IAAI,KAAK;QAAE,GAAGA,IAAI;QAAE3B,SAAS,EAAE;MAAG,CAAC,CAAC,CAAC;IACjD;EACF,CAAC;EAED,MAAMoD,yBAAyB,GAAIC,MAAM,IAAK;IAC5CjC,OAAO,CAACC,GAAG,CAAC,kDAAkD,CAAC;IAC/DD,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEgC,MAAM,CAAC;IAC1CjC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAE,OAAOgC,MAAM,CAAC;IAC7CjC,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEgC,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAErB,MAAM,CAAC;IAChDZ,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEgC,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEvC,GAAG,CAACF,CAAC,IAAI;MACjD,IAAIA,CAAC,YAAY6B,IAAI,EAAE;QACrB,OAAO;UAAEE,IAAI,EAAE,MAAM;UAAEnB,IAAI,EAAEZ,CAAC,CAACY,IAAI;UAAEkB,IAAI,EAAE9B,CAAC,CAAC8B;QAAK,CAAC;MACrD,CAAC,MAAM,IAAI,OAAO9B,CAAC,KAAK,QAAQ,EAAE;QAChC,OAAO;UAAE+B,IAAI,EAAE,QAAQ;UAAElB,KAAK,EAAEb;QAAE,CAAC;MACrC,CAAC,MAAM,IAAIA,CAAC,IAAI,OAAOA,CAAC,KAAK,QAAQ,EAAE;QACrC,OAAO;UAAE+B,IAAI,EAAE,QAAQ;UAAEZ,IAAI,EAAED,MAAM,CAACC,IAAI,CAACnB,CAAC,CAAC;UAAEK,UAAU,EAAEL,CAAC,CAACK;QAAW,CAAC;MAC3E;MACA,OAAO;QAAE0B,IAAI,EAAE,OAAO/B,CAAC;QAAEa,KAAK,EAAEb;MAAE,CAAC;IACrC,CAAC,CAAC,CAAC;IAEHT,gBAAgB,CAACkD,MAAM,IAAI,EAAE,CAAC;IAE9BjC,OAAO,CAACC,GAAG,CAAC,iCAAiC,EAAEgC,MAAM,IAAI,EAAE,CAAC;EAC9D,CAAC;EAED,oBACErE,OAAA;IAAMK,QAAQ,EAAE4C,YAAa;IAACqB,SAAS,EAAC,WAAW;IAAAC,QAAA,gBAEjDvE,OAAA;MAAAuE,QAAA,gBACEvE,OAAA;QAAOwE,OAAO,EAAC,OAAO;QAACF,SAAS,EAAC,yCAAyC;QAAAC,QAAA,EAAC;MAE3E;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eACR5E,OAAA;QACE2D,IAAI,EAAC,MAAM;QACXkB,EAAE,EAAC,OAAO;QACVrC,IAAI,EAAC,OAAO;QACZC,KAAK,EAAEhC,QAAQ,CAACE,KAAM;QACtBmE,QAAQ,EAAExC,iBAAkB;QAC5BgC,SAAS,EAAE,uIACTlD,MAAM,CAACT,KAAK,GAAG,gBAAgB,GAAG,iBAAiB,EAClD;QACHoE,WAAW,EAAC;MAA0B;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvC,CAAC,EACDxD,MAAM,CAACT,KAAK,iBACXX,OAAA;QAAGsE,SAAS,EAAC,2BAA2B;QAAAC,QAAA,EAAEnD,MAAM,CAACT;MAAK;QAAA8D,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAC3D;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eAGN5E,OAAA;MAAAuE,QAAA,gBACEvE,OAAA;QAAOwE,OAAO,EAAC,mBAAmB;QAACF,SAAS,EAAC,yCAAyC;QAAAC,QAAA,EAAC;MAEvF;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eACR5E,OAAA;QACE6E,EAAE,EAAC,mBAAmB;QACtBrC,IAAI,EAAC,mBAAmB;QACxBwC,IAAI,EAAE,CAAE;QACRvC,KAAK,EAAEhC,QAAQ,CAACG,iBAAkB;QAClCkE,QAAQ,EAAExC,iBAAkB;QAC5BgC,SAAS,EAAE,uIACTlD,MAAM,CAACR,iBAAiB,GAAG,gBAAgB,GAAG,iBAAiB,EAC9D;QACHmE,WAAW,EAAC;MAAuC;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpD,CAAC,EACDxD,MAAM,CAACR,iBAAiB,iBACvBZ,OAAA;QAAGsE,SAAS,EAAC,2BAA2B;QAAAC,QAAA,EAAEnD,MAAM,CAACR;MAAiB;QAAA6D,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CACvE;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eAGN5E,OAAA;MAAAuE,QAAA,gBACEvE,OAAA;QAAOwE,OAAO,EAAC,kBAAkB;QAACF,SAAS,EAAC,yCAAyC;QAAAC,QAAA,EAAC;MAEtF;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eACR5E,OAAA;QACE6E,EAAE,EAAC,kBAAkB;QACrBrC,IAAI,EAAC,kBAAkB;QACvBwC,IAAI,EAAE,CAAE;QACRvC,KAAK,EAAEhC,QAAQ,CAACI,gBAAiB;QACjCiE,QAAQ,EAAExC,iBAAkB;QAC5BgC,SAAS,EAAE,uIACTlD,MAAM,CAACP,gBAAgB,GAAG,gBAAgB,GAAG,iBAAiB,EAC7D;QACHkE,WAAW,EAAC;MAA4B;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzC,CAAC,EACDxD,MAAM,CAACP,gBAAgB,iBACtBb,OAAA;QAAGsE,SAAS,EAAC,2BAA2B;QAAAC,QAAA,EAAEnD,MAAM,CAACP;MAAgB;QAAA4D,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CACtE;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eAGN5E,OAAA;MAAKsE,SAAS,EAAC,uCAAuC;MAAAC,QAAA,gBACpDvE,OAAA;QAAAuE,QAAA,gBACEvE,OAAA;UAAOwE,OAAO,EAAC,MAAM;UAACF,SAAS,EAAC,yCAAyC;UAAAC,QAAA,EAAC;QAE1E;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACR5E,OAAA;UACE2D,IAAI,EAAC,MAAM;UACXkB,EAAE,EAAC,MAAM;UACTrC,IAAI,EAAC,MAAM;UACXC,KAAK,EAAEhC,QAAQ,CAACK,IAAK;UACrBgE,QAAQ,EAAExC,iBAAkB;UAC5BgC,SAAS,EAAC,qJAAqJ;UAC/JS,WAAW,EAAC;QAAkB;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/B,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAEN5E,OAAA;QAAAuE,QAAA,gBACEvE,OAAA;UAAOwE,OAAO,EAAC,UAAU;UAACF,SAAS,EAAC,yCAAyC;UAAAC,QAAA,EAAC;QAE9E;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACR5E,OAAA;UACE2D,IAAI,EAAC,MAAM;UACXkB,EAAE,EAAC,UAAU;UACbrC,IAAI,EAAC,UAAU;UACfC,KAAK,EAAEhC,QAAQ,CAACM,QAAS;UACzB+D,QAAQ,EAAExC,iBAAkB;UAC5BgC,SAAS,EAAC,qJAAqJ;UAC/JS,WAAW,EAAC;QAAiC;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9C,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGN5E,OAAA;MAAAuE,QAAA,gBACEvE,OAAA,CAACF,WAAW;QACVmF,KAAK,EAAC,uEAAgB;QACtBC,QAAQ,EAAE,CAAC5D,SAAU;QACrB6D,cAAc,EAAEhB,qBAAsB;QACtCiB,aAAa,EAAEpE,SAAS,GAAG,CAACA,SAAS,CAAC,GAAG,EAAG;QAC5CqE,QAAQ,EAAE;MAAE;QAAAZ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACb,CAAC,EACDxD,MAAM,CAACJ,SAAS,iBACfhB,OAAA;QAAGsE,SAAS,EAAC,2BAA2B;QAAAC,QAAA,EAAEnD,MAAM,CAACJ;MAAS;QAAAyD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAC/D;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eAGN5E,OAAA;MAAAuE,QAAA,gBACEvE,OAAA;QAAOsE,SAAS,EAAC,yCAAyC;QAAAC,QAAA,EAAC;MAE3D;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eACR5E,OAAA;QAAKsE,SAAS,EAAC,MAAM;QAAAC,QAAA,eACnBvE,OAAA,CAACF,WAAW;UACVmF,KAAK,EAAC,EAAE;UACRK,QAAQ,EAAE,IAAK;UACfH,cAAc,EAAEf,yBAA0B;UAC1CgB,aAAa,EAAElE,aAAc;UAC7BmE,QAAQ,EAAE,CAAE,CAAC;UAAA;UACbE,OAAO,EAAE;QAAG;UAAAd,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACb;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eACN5E,OAAA;QAAGsE,SAAS,EAAC,4BAA4B;QAAAC,QAAA,EAAC;MAG1C;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,EACH1D,aAAa,CAAC8B,MAAM,GAAG,CAAC,iBACvBhD,OAAA;QAAKsE,SAAS,EAAC,gCAAgC;QAAAC,QAAA,eAC7CvE,OAAA;UAAGsE,SAAS,EAAC,uBAAuB;UAAAC,QAAA,GAAC,wHACZ,EAACrD,aAAa,CAACS,MAAM,CAACC,CAAC,IAAIA,CAAC,YAAY6B,IAAI,CAAC,CAACT,MAAM,EAAC,oCAAS,EAAC9B,aAAa,CAACS,MAAM,CAACC,CAAC,IAAI,EAAEA,CAAC,YAAY6B,IAAI,CAAC,CAAC,CAACT,MAAM,EAAC,2EAC/I;QAAA;UAAAyB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eAGN5E,OAAA;MAAKsE,SAAS,EAAC,0DAA0D;MAAAC,QAAA,gBACvEvE,OAAA;QACE2D,IAAI,EAAC,QAAQ;QACb6B,OAAO,EAAElF,QAAS;QAClBgE,SAAS,EAAC,6LAA6L;QAAAC,QAAA,EACxM;MAED;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAET5E,OAAA;QACE2D,IAAI,EAAC,QAAQ;QACb8B,QAAQ,EAAElF,OAAQ;QAClB+D,SAAS,EAAC,qPAAqP;QAAAC,QAAA,EAE9PhE,OAAO,gBACNP,OAAA,CAAAE,SAAA;UAAAqE,QAAA,gBACEvE,OAAA;YAAKsE,SAAS,EAAC,4CAA4C;YAACoB,KAAK,EAAC,4BAA4B;YAACC,IAAI,EAAC,MAAM;YAACC,OAAO,EAAC,WAAW;YAAArB,QAAA,gBAC5HvE,OAAA;cAAQsE,SAAS,EAAC,YAAY;cAACuB,EAAE,EAAC,IAAI;cAACC,EAAE,EAAC,IAAI;cAACC,CAAC,EAAC,IAAI;cAACC,MAAM,EAAC,cAAc;cAACC,WAAW,EAAC;YAAG;cAAAxB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAS,CAAC,eACrG5E,OAAA;cAAMsE,SAAS,EAAC,YAAY;cAACqB,IAAI,EAAC,cAAc;cAACO,CAAC,EAAC;YAAiH;cAAAzB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzK,CAAC,mEAER;QAAA,eAAE,CAAC,GAEHtD,SAAS,GAAG,iBAAiB,GAAG;MACjC;QAAAmD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACK,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACF,CAAC;AAEX,CAAC;AAACpE,EAAA,CAjbIL,WAAW;AAAAgG,EAAA,GAAXhG,WAAW;AAmbjB,eAAeA,WAAW;AAAC,IAAAgG,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}